{"version":3,"sources":["../../../../build/webpack/plugins/build-manifest-plugin.ts"],"names":["generateClientManifest","compiler","compilation","assetMap","rewrites","compilationSpan","spans","get","genClientManifestSpan","traceChild","traceFn","clientManifest","__rewrites","appDependencies","Set","pages","sortedPageKeys","getSortedRoutes","Object","keys","forEach","page","dependencies","filteredDeps","filter","dep","has","length","sortedPages","devalue","getEntrypointFiles","entrypoint","getFiles","file","test","map","replace","processRoute","r","rewrite","destination","startsWith","BuildManifestPlugin","options","buildId","isDevFallback","beforeFiles","afterFiles","fallback","exportRuntime","createAssets","assets","createAssetsSpan","entrypoints","polyfillFiles","devFiles","ampDevFiles","lowPriorityFiles","ampFirstPages","ampFirstEntryNames","ampFirstEntryNamesMap","entryName","pagePath","getRouteFromEntrypoint","push","mainFiles","CLIENT_STATIC_FILES_RUNTIME_MAIN","compilationAssets","getAssets","p","name","endsWith","info","CLIENT_STATIC_FILES_RUNTIME_POLYFILLS_SYMBOL","v","CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH","CLIENT_STATIC_FILES_RUNTIME_AMP","systemEntrypoints","values","filesForPage","CLIENT_STATIC_FILES_PATH","srcEmptySsgManifest","ssgManifestPath","sources","RawSource","srcEmptyMiddlewareManifest","middlewareManifestPath","sort","reduce","a","c","buildManifestName","BUILD_MANIFEST","JSON","stringify","MIDDLEWARE_BUILD_MANIFEST","clientManifestPath","apply","hooks","make","tap","processAssets","stage","webpack","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS"],"mappings":"Y;;;E;wB;AAAoB,GAA4B,CAA5B,QAA4B;AACf,GAAoC,CAApC,QAAoC;AAS9D,GAA+B,CAA/B,UAA+B;AAEH,GAA2C,CAA3C,uBAA2C;AACxC,GAAgC,CAAhC,yBAAgC;AAEtC,GAAkC,CAAlC,MAAkC;AAC5C,GAAoB,CAApB,gBAAoB;;;;;;AAO1C,EAAmF,AAAnF,iFAAmF;AACnF,EAAyC,AAAzC,uCAAyC;SAChCA,sBAAsB,CAC7BC,QAAa,EACbC,WAAgB,EAChBC,QAAuB,EACvBC,QAAkC,EACd,CAAC;IACrB,KAAK,CAACC,eAAe,GAAGC,gBAAK,OAACC,GAAG,CAACL,WAAW,KAAKI,gBAAK,OAACC,GAAG,CAACN,QAAQ;IACpE,KAAK,CAACO,qBAAqB,GAAGH,eAAe,aAAfA,eAAe,cAAfA,IAAI,CAAJA,CAA2B,GAA3BA,eAAe,CAAEI,UAAU,CACvD,CAA4C;IAG9C,MAAM,CAACD,qBAAqB,aAArBA,qBAAqB,cAArBA,IAAI,CAAJA,CAA8B,GAA9BA,qBAAqB,CAAEE,OAAO,KAAO,CAAC;QAC3C,KAAK,CAACC,cAAc,GAAwB,CAAC;YAC3C,EAAiD,AAAjD,+CAAiD;YACjDC,UAAU,EAAER,QAAQ;QACtB,CAAC;QACD,KAAK,CAACS,eAAe,GAAG,GAAG,CAACC,GAAG,CAACX,QAAQ,CAACY,KAAK,CAAC,CAAO;QACtD,KAAK,CAACC,cAAc,OAAGC,MAAe,kBAACC,MAAM,CAACC,IAAI,CAAChB,QAAQ,CAACY,KAAK;QAEjEC,cAAc,CAACI,OAAO,EAAEC,IAAI,GAAK,CAAC;YAChC,KAAK,CAACC,YAAY,GAAGnB,QAAQ,CAACY,KAAK,CAACM,IAAI;YAExC,EAAE,EAAEA,IAAI,KAAK,CAAO,QAAE,MAAM;YAC5B,EAA6E,AAA7E,2EAA6E;YAC7E,EAAwD,AAAxD,sDAAwD;YACxD,KAAK,CAACE,YAAY,GAAGD,YAAY,CAACE,MAAM,EACrCC,GAAG,IAAMZ,eAAe,CAACa,GAAG,CAACD,GAAG;;YAGnC,EAA2D,AAA3D,yDAA2D;YAC3D,EAAE,EAAEF,YAAY,CAACI,MAAM,EAAE,CAAC;gBACxBhB,cAAc,CAACU,IAAI,IAAIE,YAAY,A;YACrC,CAAC;QACH,CAAC,C;QACD,EAA6E,AAA7E,2EAA6E;QAC7E,EAAqE,AAArE,mEAAqE;QACrEZ,cAAc,CAACiB,WAAW,GAAGZ,cAAc,A;QAE3C,MAAM,KAACa,QAAO,UAAClB,cAAc;IAC/B,CAAC;AACH,CAAC;SAEQmB,kBAAkB,CAACC,UAAe,EAAY,CAAC;QAEpDA,GAMkD;IAPpD,MAAM,EACJA,GAMkD,GANlDA,UAAU,aAAVA,UAAU,cAAVA,IAAI,CAAJA,CACY,GADZA,UAAU,CACNC,QAAQ,GACTR,MAAM,EAAES,IAAY,GAAK,CAAC;QACzB,EAAwE,AAAxE,sEAAwE;QACxE,MAAM,qCAAqCC,IAAI,CAACD,IAAI;IACtD,CAAC,EACAE,GAAG,EAAEF,IAAY,GAAKA,IAAI,CAACG,OAAO,QAAQ,CAAG;mBANhDL,GAMkD,cANlDA,GAMkD,GAAI,CAAC,CAAC;AAE5D,CAAC;AAED,KAAK,CAACM,YAAY,IAAIC,CAAU,GAAK,CAAC;IACpC,KAAK,CAACC,OAAO,GAAG,CAAC;WAAID,CAAC;IAAC,CAAC;IAExB,EAAwD,AAAxD,sDAAwD;IACxD,EAAsB,AAAtB,oBAAsB;IACtB,EAAE,GAAGC,OAAO,CAACC,WAAW,CAACC,UAAU,CAAC,CAAG,KAAG,CAAC;QACzC,MAAM,CAAEF,OAAO,CAASC,WAAW,A;IACrC,CAAC;IACD,MAAM,CAACD,OAAO;AAChB,CAAC;MAIoBG,mBAAmB;gBAM1BC,OAKX,CAAE,CAAC;QACF,IAAI,CAACC,OAAO,GAAGD,OAAO,CAACC,OAAO,A;QAC9B,IAAI,CAACC,aAAa,KAAKF,OAAO,CAACE,aAAa,A;QAC5C,IAAI,CAACzC,QAAQ,GAAG,CAAC;YACf0C,WAAW,EAAE,CAAC,CAAC;YACfC,UAAU,EAAE,CAAC,CAAC;YACdC,QAAQ,EAAE,CAAC,CAAC;QACd,CAAC,A;QACD,IAAI,CAAC5C,QAAQ,CAAC0C,WAAW,GAAGH,OAAO,CAACvC,QAAQ,CAAC0C,WAAW,CAACX,GAAG,CAACE,YAAY,C;QACzE,IAAI,CAACjC,QAAQ,CAAC2C,UAAU,GAAGJ,OAAO,CAACvC,QAAQ,CAAC2C,UAAU,CAACZ,GAAG,CAACE,YAAY,C;QACvE,IAAI,CAACjC,QAAQ,CAAC4C,QAAQ,GAAGL,OAAO,CAACvC,QAAQ,CAAC4C,QAAQ,CAACb,GAAG,CAACE,YAAY,C;QACnE,IAAI,CAACY,aAAa,KAAKN,OAAO,CAACM,aAAa,A;IAC9C,CAAC;IAEDC,YAAY,CAACjD,QAAa,EAAEC,WAAgB,EAAEiD,MAAW,EAAE,CAAC;QAC1D,KAAK,CAAC9C,eAAe,GAAGC,gBAAK,OAACC,GAAG,CAACL,WAAW,KAAKI,gBAAK,OAACC,GAAG,CAACN,QAAQ;QACpE,KAAK,CAACmD,gBAAgB,GAAG/C,eAAe,aAAfA,eAAe,cAAfA,IAAI,CAAJA,CAA2B,GAA3BA,eAAe,CAAEI,UAAU,CAClD,CAAkC;QAEpC,MAAM,CAAC2C,gBAAgB,aAAhBA,gBAAgB,cAAhBA,IAAI,CAAJA,CAAyB,GAAzBA,gBAAgB,CAAE1C,OAAO,KAAO,CAAC;YACtC,KAAK,CAAC2C,WAAW,GAAqBnD,WAAW,CAACmD,WAAW;YAC7D,KAAK,CAAClD,QAAQ,GAA+B,CAAC;gBAC5CmD,aAAa,EAAE,CAAC,CAAC;gBACjBC,QAAQ,EAAE,CAAC,CAAC;gBACZC,WAAW,EAAE,CAAC,CAAC;gBACfC,gBAAgB,EAAE,CAAC,CAAC;gBACpB1C,KAAK,EAAE,CAAC;oBAAC,CAAO,QAAE,CAAC,CAAC;gBAAC,CAAC;gBACtB2C,aAAa,EAAE,CAAC,CAAC;YACnB,CAAC;YAED,KAAK,CAACC,kBAAkB,GAAGC,yBAAqB,uBAACrD,GAAG,CAACL,WAAW;YAChE,EAAE,EAAEyD,kBAAkB,EAAE,CAAC;gBACvB,GAAG,EAAE,KAAK,CAACE,SAAS,IAAIF,kBAAkB,CAAE,CAAC;oBAC3C,KAAK,CAACG,QAAQ,OAAGC,uBAAsB,UAACF,SAAS;oBACjD,EAAE,GAAGC,QAAQ,EAAE,CAAC;wBACd,QAAQ;oBACV,CAAC;oBAED3D,QAAQ,CAACuD,aAAa,CAACM,IAAI,CAACF,QAAQ,C;gBACtC,CAAC;YACH,CAAC;YAED,KAAK,CAACG,SAAS,GAAG,GAAG,CAACnD,GAAG,CACvBgB,kBAAkB,CAACuB,WAAW,CAAC9C,GAAG,CAAC2D,UAAgC;YAGrE,KAAK,CAACC,iBAAiB,GAIjBjE,WAAW,CAACkE,SAAS;YAE3BjE,QAAQ,CAACmD,aAAa,GAAGa,iBAAiB,CACvC3C,MAAM,EAAE6C,CAAC,GAAK,CAAC;gBACd,EAA2C,AAA3C,yCAA2C;gBAC3C,EAAE,GAAGA,CAAC,CAACC,IAAI,CAACC,QAAQ,CAAC,CAAK,OAAG,CAAC;oBAC5B,MAAM,CAAC,KAAK;gBACd,CAAC;gBAED,MAAM,CACJF,CAAC,CAACG,IAAI,IAAIC,UAA4C,iDAAIJ,CAAC,CAACG,IAAI;YAEpE,CAAC,EACArC,GAAG,EAAEuC,CAAC,GAAKA,CAAC,CAACJ,IAAI;a;YAEpBnE,QAAQ,CAACoD,QAAQ,GAAGzB,kBAAkB,CACpCuB,WAAW,CAAC9C,GAAG,CAACoE,UAAyC,6CACzDnD,MAAM,EAAES,IAAI,IAAMgC,SAAS,CAACvC,GAAG,CAACO,IAAI;a;YAEtC9B,QAAQ,CAACqD,WAAW,GAAG1B,kBAAkB,CACvCuB,WAAW,CAAC9C,GAAG,CAACqE,UAA+B,kC;YAGjD,KAAK,CAACC,iBAAiB,GAAG,GAAG,CAAC/D,GAAG,CAAC,CAAC;gBACjCoD,UAAgC;gBAChCS,UAAyC;gBACzCC,UAA+B;YACjC,CAAC;YAED,GAAG,EAAE,KAAK,CAAC7C,UAAU,IAAI7B,WAAW,CAACmD,WAAW,CAACyB,MAAM,GAAI,CAAC;gBAC1D,EAAE,EAAED,iBAAiB,CAACnD,GAAG,CAACK,UAAU,CAACuC,IAAI,GAAG,QAAQ;gBACpD,KAAK,CAACR,QAAQ,OAAGC,uBAAsB,UAAChC,UAAU,CAACuC,IAAI;gBAEvD,EAAE,GAAGR,QAAQ,EAAE,CAAC;oBACd,QAAQ;gBACV,CAAC;gBAED,KAAK,CAACiB,YAAY,GAAGjD,kBAAkB,CAACC,UAAU;gBAElD5B,QAAQ,CAACY,KAAK,CAAC+C,QAAQ,IAAI,CAAC;uBAAG,GAAG,CAAChD,GAAG,CAAC,CAAC;2BAAGmD,SAAS;2BAAKc,YAAY;oBAAA,CAAC;gBAAC,CAAC,A;YAC1E,CAAC;YAED,EAAE,GAAG,IAAI,CAAClC,aAAa,EAAE,CAAC;gBACxB,EAAqE,AAArE,mEAAqE;gBACrE,EAAuE,AAAvE,qEAAuE;gBACvE,EAA4B,AAA5B,0BAA4B;gBAC5B1C,QAAQ,CAACsD,gBAAgB,CAACO,IAAI,IACzBgB,UAAwB,0BAAC,CAAC,EAAE,IAAI,CAACpC,OAAO,CAAC,kBAAkB,E;gBAEhE,EAAsE,AAAtE,oEAAsE;gBACtE,EAAkE,AAAlE,gEAAkE;gBAClE,EAAc,AAAd,YAAc;gBACd,KAAK,CAACqC,mBAAmB,IAAI,4EAA4E;gBAEzG,KAAK,CAACC,eAAe,MAAMF,UAAwB,0BAAC,CAAC,EAAE,IAAI,CAACpC,OAAO,CAAC,gBAAgB;gBACpFzC,QAAQ,CAACsD,gBAAgB,CAACO,IAAI,CAACkB,eAAe,C;gBAC9C/B,MAAM,CAAC+B,eAAe,IAAI,GAAG,CAACC,QAAO,SAACC,SAAS,CAACH,mBAAmB,C;gBAEnE,KAAK,CAACI,0BAA0B,IAAI,4FAA4F;gBAChI,KAAK,CAACC,sBAAsB,MAAMN,UAAwB,0BAAC,CAAC,EAAE,IAAI,CAACpC,OAAO,CAAC,uBAAuB;gBAClGzC,QAAQ,CAACsD,gBAAgB,CAACO,IAAI,CAACsB,sBAAsB,C;gBACrDnC,MAAM,CAACmC,sBAAsB,IAAI,GAAG,CAACH,QAAO,SAACC,SAAS,CACpDC,0BAA0B,C;YAE9B,CAAC;YAEDlF,QAAQ,CAACY,KAAK,GAAGG,MAAM,CAACC,IAAI,CAAChB,QAAQ,CAACY,KAAK,EACxCwE,IAAI,EACL,EAA2B,AAA3B,yBAA2B;aAC1BC,MAAM,EAAEC,CAAC,EAAEC,CAAC,IAAOD,CAAC,CAACC,CAAC,IAAIvF,QAAQ,CAACY,KAAK,CAAC2E,CAAC,GAAID,CAAC;cAAG,CAAC,CAAC,C;YAEvD,GAAG,CAACE,iBAAiB,GAAGC,UAAc;YAEtC,EAAE,EAAE,IAAI,CAAC/C,aAAa,EAAE,CAAC;gBACvB8C,iBAAiB,IAAI,SAAS,EAAEC,UAAc,iB;YAChD,CAAC;YAEDzC,MAAM,CAACwC,iBAAiB,IAAI,GAAG,CAACR,QAAO,SAACC,SAAS,CAC/CS,IAAI,CAACC,SAAS,CAAC3F,QAAQ,EAAE,IAAI,EAAE,CAAC,E;YAGlC,EAAE,EAAE,IAAI,CAAC8C,aAAa,EAAE,CAAC;gBACvBE,MAAM,EAAE,OAAO,EAAE4C,UAAyB,2BAAC,GAAG,KAC5C,GAAG,CAACZ,QAAO,SAACC,SAAS,EAClB,sBAAsB,EAAES,IAAI,CAACC,SAAS,CAAC3F,QAAQ,I;YAEtD,CAAC;YAED,EAAE,GAAG,IAAI,CAAC0C,aAAa,EAAE,CAAC;gBACxB,KAAK,CAACmD,kBAAkB,MAAMhB,UAAwB,0BAAC,CAAC,EAAE,IAAI,CAACpC,OAAO,CAAC,kBAAkB;gBAEzFO,MAAM,CAAC6C,kBAAkB,IAAI,GAAG,CAACb,QAAO,SAACC,SAAS,EAC/C,wBAAwB,EAAEpF,sBAAsB,CAC/CC,QAAQ,EACRC,WAAW,EACXC,QAAQ,EACR,IAAI,CAACC,QAAQ,EACb,uDAAuD,E;YAE7D,CAAC;YAED,MAAM,CAAC+C,MAAM;QACf,CAAC;IACH,CAAC;IAED8C,KAAK,CAAChG,QAA0B,EAAE,CAAC;QACjCA,QAAQ,CAACiG,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,CAAqB,uBAAGlG,WAAW,GAAK,CAAC;YAC/D,EAA0D,AAA1D,wDAA0D;YAC1DA,WAAW,CAACgG,KAAK,CAACG,aAAa,CAACD,GAAG,CACjC,CAAC;gBACC9B,IAAI,EAAE,CAAqB;gBAC3B,EAA0D,AAA1D,wDAA0D;gBAC1DgC,KAAK,EAAEC,QAAO,SAACC,WAAW,CAACC,8BAA8B;YAC3D,CAAC,GACAtD,MAAW,GAAK,CAAC;gBAChB,IAAI,CAACD,YAAY,CAACjD,QAAQ,EAAEC,WAAW,EAAEiD,MAAM,C;YACjD,CAAC,C;QAEL,CAAC,C;QACD,MAAM;IACR,CAAC;;kBArLkBT,mBAAmB,A"}