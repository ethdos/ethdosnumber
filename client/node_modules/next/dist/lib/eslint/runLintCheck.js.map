{"version":3,"sources":["../../../lib/eslint/runLintCheck.ts"],"names":["runLintCheck","CommentJson","Log","VALID_SEVERITY","isValidSeverity","severity","includes","requiredPackages","file","pkg","exportsRestrict","cliPrompt","console","log","chalk","bold","cyan","cliSelect","Promise","resolve","require","default","value","values","ESLINT_PROMPT_VALUES","valueRenderer","title","recommended","selected","name","underline","yellow","unselected","config","lint","baseDir","lintDirs","eslintrcFile","pkgJsonPath","lintDuringBuild","eslintOptions","reportErrorsOnly","maxWarnings","formatter","mod","ESLint","deps","hasNecessaryDependencies","missing","some","dep","error","isYarn","resolved","get","eslintVersion","version","CLIEngine","semver","lt","red","options","useEslintrc","baseConfig","errorOnUnmatchedPattern","extensions","cache","eslint","nextEslintPluginIsEnabled","nextRulesEnabled","Map","pagesDirRules","configFile","completeConfig","calculateConfigForFile","plugins","Object","entries","rules","startsWith","length","set","pagesDir","findPagesDir","pages","updatedPagesDir","rule","replace","warn","lintStart","process","hrtime","results","lintFiles","selectedFormatter","fix","outputFixes","getErrorResults","loadFormatter","formattedResult","formatResults","format","lintEnd","totalWarnings","reduce","sum","warningCount","output","isError","eventInfo","durationInSeconds","lintedFilesCount","lintFix","nextEslintPluginVersion","has","path","join","dirname","nextEslintPluginErrorsCount","totalNextPluginErrorCount","nextEslintPluginWarningsCount","totalNextPluginWarningCount","fromEntries","err","message","getProperError","strict","findUp","cwd","packageJsonConfig","pkgJsonContent","fs","readFile","encoding","parse","hasEslintConfiguration","exists","selectedConfig","find","opt","installDependencies","existsSync","writeDefaultConfig","ready"],"mappings":"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"}