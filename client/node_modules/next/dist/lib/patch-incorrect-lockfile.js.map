{"version":3,"sources":["../../lib/patch-incorrect-lockfile.ts"],"names":["patchIncorrectLockfile","Log","dir","lockfileParsed","lockfilePath","findUp","cwd","content","promises","readFile","JSON","parse","foundSwcPkgs","Set","nextPkg","packages","nextVersion","version","packageKeys","Object","keys","dependencies","expectedSwcPkgs","optionalDependencies","filter","pkg","startsWith","forEach","pkgKey","swcIndex","indexOf","add","substring","size","length","warn","has","res","fetch","ok","Error","status","data","json","versions","resolved","dist","tarball","integrity","optional","cpu","os","engines","writeFile","stringify","err","error","console"],"mappings":"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"}