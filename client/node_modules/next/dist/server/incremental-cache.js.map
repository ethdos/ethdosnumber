{"version":3,"sources":["../../server/incremental-cache.ts"],"names":["toRoute","pathname","replace","IncrementalCache","fs","max","dev","distDir","pagesDir","flushToDisk","locales","getPrerenderManifest","incrementalOptions","prerenderManifest","process","env","__NEXT_TEST_MAX_ISR_CACHE","parseInt","cache","LRUCache","length","value","kind","JSON","stringify","props","Error","html","pageData","getSeedPath","ext","path","join","calculateRevalidate","fromTime","Date","getTime","initialRevalidateSeconds","routes","revalidateAfter","getFallback","page","normalizePagePath","readFile","get","data","notFoundRoutes","includes","now","htmlPath","jsonPath","parse","mtime","stat","set","_","isStale","manifestPath","manifestEntry","curRevalidate","revalidateSeconds","dataRoute","posix","srcRoute","seedHtmlPath","seedJsonPath","mkdir","dirname","writeFile","error","console","warn"],"mappings":"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"}