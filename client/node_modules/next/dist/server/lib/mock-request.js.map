{"version":3,"sources":["../../../server/lib/mock-request.ts"],"names":["mockRequest","requestUrl","requestHeaders","requestMethod","requestConnection","resBuffers","mockRes","Stream","Writable","isStreamFinished","Promise","resolve","reject","on","err","write","chunk","push","Buffer","isBuffer","from","_write","_encoding","callback","mockHeaders","writeHead","_status","_headers","Object","assign","getHeader","name","toLowerCase","getHeaders","getHeaderNames","keys","setHeader","value","removeHeader","_implicitHeader","connection","finished","statusCode","mockReq","Readable","_read","emit","headers","method","url","req","res","streamPromise"],"mappings":"Y;;;E;QAEgBA,WAAW,GAAXA,WAAW,A;AAFR,GAAQ,CAAR,OAAQ;;;;;;SAEXA,WAAW,CACzBC,UAAkB,EAClBC,cAA6D,EAC7DC,aAAqB,EACrBC,iBAAuB,EACvB,CAAC;IACD,KAAK,CAACC,UAAU,GAAa,CAAC,CAAC;IAC/B,KAAK,CAACC,OAAO,GAAQ,GAAG,CAACC,OAAM,SAACC,QAAQ;IAExC,KAAK,CAACC,gBAAgB,GAAG,GAAG,CAACC,OAAO,CAAC,QAAQ,CAAEC,OAAO,EAAEC,MAAM,EAAE,CAAC;QAC/DN,OAAO,CAACO,EAAE,CAAC,CAAQ,aAAQF,OAAO,CAAC,IAAI;S;QACvCL,OAAO,CAACO,EAAE,CAAC,CAAK,UAAQF,OAAO,CAAC,IAAI;S;QACpCL,OAAO,CAACO,EAAE,CAAC,CAAO,SAAGC,GAAQ,GAAKF,MAAM,CAACE,GAAG;S;IAC9C,CAAC;IAEDR,OAAO,CAACS,KAAK,IAAIC,KAAsB,GAAK,CAAC;QAC3CX,UAAU,CAACY,IAAI,CAACC,MAAM,CAACC,QAAQ,CAACH,KAAK,IAAIA,KAAK,GAAGE,MAAM,CAACE,IAAI,CAACJ,KAAK,E;IACpE,CAAC,A;IACDV,OAAO,CAACe,MAAM,IACZL,KAAsB,EACtBM,SAAiB,EACjBC,QAAoB,GACjB,CAAC;QACJjB,OAAO,CAACS,KAAK,CAACC,KAAK,C;QACnB,EAAkF,AAAlF,gFAAkF;QAClF,EAAwF,AAAxF,sFAAwF;QACxF,EAAuB,AAAvB,qBAAuB;QACvB,EAA6F,AAA7F,2FAA6F;QAC7FO,QAAQ,E;IACV,CAAC,A;IAED,KAAK,CAACC,WAAW,GAAsC,CAAC,CAAC;IAEzDlB,OAAO,CAACmB,SAAS,IAAIC,OAAY,EAAEC,QAAa,GAC9CC,MAAM,CAACC,MAAM,CAACL,WAAW,EAAEG,QAAQ;A;IACrCrB,OAAO,CAACwB,SAAS,IAAIC,IAAY,GAAKP,WAAW,CAACO,IAAI,CAACC,WAAW;A;IAClE1B,OAAO,CAAC2B,UAAU,OAAST,WAAW;A;IACtClB,OAAO,CAAC4B,cAAc,OAASN,MAAM,CAACO,IAAI,CAACX,WAAW;A;IACtDlB,OAAO,CAAC8B,SAAS,IAAIL,IAAY,EAAEM,KAAwB,GACxDb,WAAW,CAACO,IAAI,CAACC,WAAW,MAAMK,KAAK;A;IAC1C/B,OAAO,CAACgC,YAAY,IAAIP,IAAY,GAAK,CAAC;QACxC,MAAM,CAACP,WAAW,CAACO,IAAI,CAACC,WAAW,G;IACrC,CAAC,A;IACD1B,OAAO,CAACiC,eAAe,OAAS,CAAC,CAAC,A;IAClCjC,OAAO,CAACkC,UAAU,GAAGpC,iBAAiB,A;IACtCE,OAAO,CAACmC,QAAQ,GAAG,KAAK,A;IACxBnC,OAAO,CAACoC,UAAU,GAAG,GAAG,A;IAExB,KAAK,CAACC,OAAO,GAAQ,GAAG,CAACpC,OAAM,SAACqC,QAAQ;IAExCD,OAAO,CAACE,KAAK,OAAS,CAAC;QACrBF,OAAO,CAACG,IAAI,CAAC,CAAK,K;QAClBH,OAAO,CAACG,IAAI,CAAC,CAAO,O;QACpB,MAAM,CAAC5B,MAAM,CAACE,IAAI,CAAC,CAAE;IACvB,CAAC,A;IAEDuB,OAAO,CAACI,OAAO,GAAG7C,cAAc,A;IAChCyC,OAAO,CAACK,MAAM,GAAG7C,aAAa,A;IAC9BwC,OAAO,CAACM,GAAG,GAAGhD,UAAU,A;IACxB0C,OAAO,CAACH,UAAU,GAAGpC,iBAAiB,A;IAEtC,MAAM,CAAC,CAAC;QACNC,UAAU;QACV6C,GAAG,EAAEP,OAAO;QACZQ,GAAG,EAAE7C,OAAO;QACZ8C,aAAa,EAAE3C,gBAAgB;IACjC,CAAC;AACH,CAAC"}